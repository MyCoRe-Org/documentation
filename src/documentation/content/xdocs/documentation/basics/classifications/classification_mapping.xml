<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">

<document>
  <header>
    <title>Mapping von Klassifikationen</title>
  </header>
  <body>

     <section>
    <title>Mapping der Klassifikationen</title>
  <p>
    Für einen DINI-konformen Betrieb der OAI-Schnittstelle müssen
    verschiedene Sets unterstützt werden. Sets werden im OAI-PMH Standard
    verwendet, um Dokumente zu gruppieren. Sie ermöglichen selektives
    Harvesting und entsprechen konzeptionell den Klassifikationen in
    MyCoRe. Deshalb wurden zunächst Klassifikationen für die Sets
    erstellt, die für das DINI-Zertifikat zu implementieren sind. Sie
    stehen im DocPortal als class_ddc_sg.xml, class_diniPublType.xml und
    class_diniVersion.xml zur Verfügung und müssen in die eigene Anwendung
    übernommen werden.
    </p>
  <p>
    Sollen Dokumente im XmetaDissPlus-Format ausgeliefert werden, sind weitere
    Klassifikationen zu verwenden: class_dctermsDCMIType.xml und
    class_XMetaDissPlusThesisLevel.xml
    </p>
  <p>
    Im einfachsten Fall lassen sich diese Klassifikationen direkt in einem
    MyCoRe-Datenmodell verwenden. Allerdings werden die meisten
    MyCoRe-Anwendungen eigene Klassifikationen besitzen, z.B eine
    detaillierte DDC oder detailliertere Klassifikation für
    Dokumententypen. Für diese Fälle wurde in MyCoRe ein Mapping-Verfahren
    implementiert.
    </p>
  <p>
    Das Datenmodell muss dafür zunächst um ein Datenfeld mappings/mapping
    ergänzt werden. Dieses Feld wird dann beim Einfügen oder Aktualisieren
    der Dokumente automatisch befüllt.
    </p>
    <p>
    <pre class="brush: xml"><![CDATA[
    <element name="mappings" minOccurs='0' maxOccurs='1'>
      <mcrmetaclassification name="mapping"
        class="MCRMetaClassification" minOccurs='1' maxOccurs='unbounded' />
    </element>]]></pre>
    </p>
  <p>
    Die eigenen Klassifikationen werden um ein Label mit dem künstlichen
    Sprach-Attribut<code>x-mapping</code> erweitert. Als Wert wird
    Klassifikations-ID und Kategorie-ID getrennt durch einen Doppelpunkt
    dort eingetragen. Mehre Werte können durch Leerzeichen getrennt
    eingetragen werden. z.B.:
    </p>
    <pre class="brush: xml"><![CDATA[
  <category ID="TYPE0003.006">
         <label xml:lang="de" text="Dissertation" />
         <label xml:lang="en" text="dissertation" />
         <label xml:lang="x-mapping"
                text="diniPublType:doctoralThesis dctermsDCMIType:Text
    XmetaDissPlusThesisLevel:thesis.doctoral diniVersion:publishedVersion" />
  </category>]]></pre>
  <p>
    Das Mapping wird per EventHandler aktiviert und sollte möglichst früh
    aufgerufen werden, zumindest noch vor dem Start der Indexierung.
    </p>
    <pre class="brush: shell; gutter: false;">
  MCR.EventHandler.MCRObject.1a.Class
     =org.mycore.oai.classmapping.MCRClassificationMappingEventHandler
    </pre>
  </section>

  </body>
</document>
